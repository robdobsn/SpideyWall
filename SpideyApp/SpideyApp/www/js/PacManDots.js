// Generated by CoffeeScript 1.8.0
var PacManDots;

PacManDots = (function() {
  function PacManDots(gameDots, dotSize, spideyWall, spideyAppUI) {
    this.gameDots = gameDots;
    this.dotSize = dotSize;
    this.spideyWall = spideyWall;
    this.spideyAppUI = spideyAppUI;
    return;
  }

  PacManDots.prototype.showInitially = function() {
    this.createOrUpdate(true);
  };

  PacManDots.prototype.resizeUI = function() {
    this.createOrUpdate(false);
  };

  PacManDots.prototype.createOrUpdate = function(create) {
    var dot, dotIdx, dotPoint, dotSizeDiv2, points, spriteXY, _i, _len, _ref;
    dotSizeDiv2 = this.dotSize / 2;
    points = this.spideyWall.getPoints();
    _ref = this.gameDots;
    for (dotIdx = _i = 0, _len = _ref.length; _i < _len; dotIdx = ++_i) {
      dot = _ref[dotIdx];
      dotPoint = points[dotIdx];
      spriteXY = this.spideyAppUI.getPositionOfSprite(dotPoint);
      spriteXY.x -= dotSizeDiv2;
      spriteXY.y -= dotSizeDiv2;
      if (create) {
        $("#spriteOverlay").append("<div id=\"dot_" + dotIdx + "\" \n	style=\"position:absolute; visibility:visible; top:" + spriteXY.y + "px; left:" + spriteXY.x + "px; width:" + this.dotSize + "px; height:" + this.dotSize + "px\" >\n				        <svg style=\"position:absolute\" width=\"" + this.dotSize + "px\" height=\"" + this.dotSize + "px\">\n				             <circle cx=\"" + dotSizeDiv2 + "\" cy=\"" + dotSizeDiv2 + "\" r=\"" + dotSizeDiv2 + "\" stroke-width=\"0\" fill=\"yellow\"/>\n				        </svg>\n				    </div>");
      } else {
        $("#dot_" + dotIdx).css({
          top: spriteXY.y,
          left: spriteXY.x
        });
      }
      console.log("pt " + spriteXY.x + " " + spriteXY.y);
    }
  };

  return PacManDots;

})();
