// Generated by CoffeeScript 1.8.0
var SpideyApp,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

SpideyApp = (function() {
  function SpideyApp() {
    this.exitGame = __bind(this.exitGame, this);
    this.gameClick = __bind(this.gameClick, this);
    this.spideyWallIP = "192.168.0.227";
    this.curTileIdx = 0;
    this.spideyWall = new SpideyWall();
    return;
  }

  SpideyApp.prototype.go = function() {
    this.spideyAppUI = new SpideyAppUI();
    this.spideyAppUI.init();
    this.addGames();
    this.showGames();
  };

  SpideyApp.prototype.addGames = function() {
    return this.spideyAppUI.addGame(new SpideyGame_PacMan(this, this.spideyWall, this.spideyAppUI), this.gameClick);
  };

  SpideyApp.prototype.showGames = function() {
    this.spideyAppUI.showGameUI(false);
    this.spideyAppUI.showGamesAvailable(true);
  };

  SpideyApp.prototype.gameClick = function(game) {
    console.log("clicked game " + game.gameName);
    this.spideyAppUI.showGamesAvailable(false);
    game.go();
    this.spideyAppUI.showGameUI(true);
  };

  SpideyApp.prototype.exitGame = function() {
    return this.showGames();
  };

  SpideyApp.prototype.configTabNameClick = function() {
    var tabName;
    tabName = LocalStorage.get("DeviceConfigName");
    if (tabName == null) {
      tabName = "";
    }
    $("#tabnamefield").val(tabName);
    $("#tabnameok").unbind("click");
    $("#tabnameok").click(function() {
      LocalStorage.set("DeviceConfigName", $("#tabnamefield").val());
      return $("#tabnameform").hide();
    });
    $("#tabnameform").show();
  };

  return SpideyApp;

})();

$(document).bind("mobileinit", function() {
  $.mobile.allowCrossDomainPages = true;
  return $.support.cors = true;
});

$(document).ready(function() {
  var spideyApp;
  spideyApp = new SpideyApp();
  return spideyApp.go();
});
