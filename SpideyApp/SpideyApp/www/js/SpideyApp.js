// Generated by CoffeeScript 1.8.0
var SpideyApp,
  __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };

SpideyApp = (function() {
  function SpideyApp() {
    this.restartCallback = __bind(this.restartCallback, this);
    this.spideyWall = new SpideyWall();
    return;
  }

  SpideyApp.prototype.go = function() {
    this.spideyAppUI = new SpideyAppUI();
    this.spideyAppUI.init(this.spideyWall, this.restartCallback);
    this.spideyPacMan = new SpideyGame_PacMan(this, this.spideyWall, this.spideyAppUI);
    this.spideyPacMan.go(false);
  };

  SpideyApp.prototype.restartCallback = function() {
    this.spideyAppUI.init(this.spideyWall, this.restartCallback);
    this.spideyPacMan.go(true);
  };

  SpideyApp.prototype.configTabNameClick = function() {
    var tabName;
    tabName = LocalStorage.get("DeviceConfigName");
    if (tabName == null) {
      tabName = "";
    }
    $("#tabnamefield").val(tabName);
    $("#tabnameok").unbind("click");
    $("#tabnameok").click(function() {
      LocalStorage.set("DeviceConfigName", $("#tabnamefield").val());
      return $("#tabnameform").hide();
    });
    $("#tabnameform").show();
  };

  return SpideyApp;

})();

$(document).bind("mobileinit", function() {
  $.mobile.allowCrossDomainPages = true;
  $.support.cors = true;
});

$(document).ready(function() {
  var spideyApp;
  spideyApp = new SpideyApp();
  spideyApp.go();
});
